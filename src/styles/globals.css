@tailwind base;
@tailwind components;
@tailwind utilities;

/* 載入字體 */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');

html, body {
  height: 100%;
  background: radial-gradient(1200px 600px at 50% -10%, rgba(99,102,241,0.15), transparent 60%) #0b1220;
  color: #e5e7eb;
  background-color: #fff;
  font-family: "Montserrat", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", "Arial", sans-serif;
  /* 改善字體渲染 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

.search {
  @apply rounded-3xl border border-white/10 bg-white/5 shadow-md shadow-white/5;
  /* 改善行動裝置兼容性 */
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  /* 降級方案：如果不支援 backdrop-blur */
  background: rgba(255, 255, 255, 0.08);
}

/* 行動裝置優化 */
@supports not (backdrop-filter: blur(12px)) {
  .search {
    background: rgba(255, 255, 255, 0.15);
  }
}

/* 手機端字體和顯示優化 */
@media (max-width: 768px) {
  html, body {
    /* 防止字體過小 */
    font-size: 16px !important;
    /* 強制使用系統字體作為降級 */
    font-family: "Montserrat", -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Arial", sans-serif !important;
    /* 改善觸控體驗 */
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* 確保所有文字都有字體 */
  *, *::before, *::after {
    font-family: inherit !important;
  }
  
  /* 確保霧面效果在手機上顯示 */
  .backdrop-blur-xl,
  .backdrop-blur {
    backdrop-filter: blur(16px) !important;
    -webkit-backdrop-filter: blur(16px) !important;
    background: rgba(255, 255, 255, 0.1) !important;
  }
}

:root{
  --c0:#3DC5F6; /* 底 */
  --c1:#7825FF; /* 亮藍 */
  --c2:#7EDDFF; /* 冷白藍 */
  --c3:#00D2BD; /* 藍綠 */
  --c4:#192EEA; /* 深藍紫 */
  --c5:#E8F9FF; /* 亮色 */
}

/* 背景容器（鋪滿） */
.fluid-bg {
  position: absolute; inset: 0;
  background: var(--c0);
  overflow: hidden;
}

/* === 重點：左右深、中央亮 ===
   1) side-vignette：兩側加深（線性漸層 + 模糊）
   2) core-blobs：中央不規則亮色團塊（多個徑向漸層）
   3) glow-band：中央窄帶式光暈，增加中心明度
*/
.fluid-bg .side-vignette,
.fluid-bg .core-blobs,
.fluid-bg .glow-band {
  position: absolute; inset: -10%;
  pointer-events: none;
}

/* 左右加深（不動或極慢動，確保兩側始終偏暗） */
.fluid-bg .side-vignette{ 
  /* background: 
  /* 左側向中間過渡到透明 */ 
  /* linear-gradient(90deg, rgba(13,20,34,0.95) 0%, rgba(13,20,34,0.75) 3%, transparent 30%),  */
  /* 右側向中間過渡到透明 */ 
  /* linear-gradient(270deg, rgba(13,20,34,0.95) 0%, rgba(13,20,34,0.75) 3%, transparent 30%);  */
  filter: blur(12px);
  z-index: 1; 
  animation: vignetteDrift 40s ease-in-out infinite alternate; 
}

/* 中央不規則亮色團塊 */
.fluid-bg .core-blobs{
  position: absolute; inset: -10%;
  background:
    radial-gradient(50% 55% at 48% 50%, var(--c4) 0%, transparent 75%),
    radial-gradient(40% 45% at 42% 42%, var(--c1) 0%, transparent 75%),
    radial-gradient(45% 50% at 58% 58%, var(--c3) 0%, transparent 78%),
    radial-gradient(35% 40% at 52% 68%, color-mix(in oklab, var(--c2), var(--c3) 40%) 0%, transparent 80%);
  filter: blur(40px) saturate(115%);
  opacity: .95;
  animation: coreFlow 6s ease-in-out infinite;
  z-index: 0;
}

/* 上下發光 */
.fluid-bg .top-glow{
  position: absolute; inset: -15% -10% auto -10%;
  height: 40%;
  background: radial-gradient(800px 80px at 50% 0%,
    var(--c5) 0%,
    color-mix(in oklab, #fff, transparent 10%) 90%,
    transparent 100%);
  mix-blend-mode: screen;
  filter: blur(50px);
  opacity: .9;
  animation: topGlowPulse 6s ease-in-out infinite;
  z-index: 1;
}

.fluid-bg .bottom-glow{
  position: absolute; inset: auto -10% -15% -10%;
  height: 40%;
  background: radial-gradient(800px 80px at 50% 100%,
    var(--c5) 0%,
    color-mix(in oklab, #fff, transparent 10%) 90%,
    transparent 100%);
  mix-blend-mode: screen;
  filter: blur(50px);
  opacity: .9;
  animation: bottomGlowPulse 6s ease-in-out infinite;
  z-index: 1;
}

@keyframes topGlowPulse{
  0%,100%{opacity:.7; transform:scale(1)}
  50%{opacity:1; transform:scale(1.05)}
}

@keyframes bottomGlowPulse{
  0%,100%{opacity:.7; transform:scale(1)}
  50%{opacity:1; transform:scale(1.05)}
}

.fluid-overlay {
  position: absolute; inset: 0; pointer-events: none; z-index: 3;
  background:
    radial-gradient(1200px 600px at 50% -10%, color-mix(in oklab, var(--c1), transparent 65%) 0%, transparent 60%);
  mask-image: radial-gradient(85% 70% at 50% 45%, black 60%, transparent 100%);
  opacity: .65;
}

/* === 動畫區 === */
@keyframes coreFlow {
  0%   { transform: translate3d(-8%, -6%, 0) rotate(0deg) scale(1); }
  25%  { transform: translate3d(6%, -8%, 0) rotate(15deg) scale(1.15); }
  50%  { transform: translate3d(8%, 6%, 0) rotate(30deg) scale(1.3); }
  75%  { transform: translate3d(-6%, 8%, 0) rotate(15deg) scale(1.1); }
  100% { transform: translate3d(-8%, -6%, 0) rotate(0deg) scale(1); }
}

@keyframes bandPulse {
  0%,100% { opacity: .5; filter: blur(20px) brightness(1); }
  50%     { opacity: 1;  filter: blur(50px) brightness(1.2); }
}

@keyframes vignetteDrift {
  0%   { transform: translateX(-5%); }
  50%  { transform: translateX(5%); }
  100% { transform: translateX(-5%); }
}

/* === 套用動畫 === */
.fluid-bg .core-blobs{
  animation: coreFlow 14s ease-in-out infinite;
}

.fluid-bg .glow-band{
  animation: bandPulse 10s ease-in-out infinite;
}

.fluid-bg .side-vignette{
  animation: vignetteDrift 20s ease-in-out infinite;
}